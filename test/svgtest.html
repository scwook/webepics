<!DOCTYPE html>
<html>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
    * {
        box-sizing: border-box;
    }

    #flowbox {
        width: 200%;
        height: 200%;
        background: red;
        border-radius: 45%;
        position: relative;
        animation: rotation 5s linear infinite;
        z-index: -1;
        top: 10px;
        left: -50px;

    }

    #moveBox {
        /* animation: rotation 5s linear infinite; */
        /* animation: mymove 1s linear forwards; */
        position: relative;
        top: 100%;
    }

    #rotationBox {
        position: relative;
        animation: rotation 5s linear infinite;
    }

    .moveAni {
        animation: mymove 2s linear forwards;
    }

    @keyframes mymove {
        from {
            top: var(--startPosition);
            /* top: 0px; */
        }

        to {
            /* top: 10%; */
            top: var(--endPosition);
        }
    }

    @keyframes rotation {
        from {
            transform: rotate(0deg);
        }

        to {
            transform: rotate(360deg);
        }
    }
</style>

<body>
    <div style="width: 20%; aspect-ratio: 1/1; position:relative">
        <svg id="Layer_1" height="100%" viewBox="0 0 20 100">
            <defs>
                <linearGradient id="linear-gradient" x1="9.89" y1="93.79" x2="10.12" y2="-.06"
                    gradientUnits="userSpaceOnUse">
                    <stop offset="0" stop-color="#29ABE2">
                        <animate id="linear-gradient1" begin="indefinite" dur="1s" attributeName="offset" fill="freeze"
                            from="0" to="0" keySplines=" 0.0 0.4 0.1 1" keyTimes="0;1" calcMode="spline" />
                    </stop>
                    <stop offset="0" stop-color="#29ABE2" stop-opacity="0.1">
                        <animate id="linear-gradient2" begin="indefinite" dur="1s" attributeName="offset" fill="freeze"
                            from="0" to="0" keySplines=" 0.0 0.4 0.1 1" keyTimes="0;1" calcMode="spline" />
                    </stop>
                </linearGradient>
            </defs>
            <rect fill="url(#linear-gradient)" class="cls-1" x="1" y="1" width="18" height="98" rx="9" ry="9"
                style="stroke:none; stroke-width:2px;" />
        </svg>
    </div>

    <svg class="lightning" width="59.63" height="103.33" style="float:left">
        <defs>
            <linearGradient id="gradient-fill" x1="29" y1="100" x2="29" gradientUnits="userSpaceOnUse">
                <stop offset="0" stop-color="#29ABE2">
                    <animate id="gradient-point1" begin="indefinite" dur="1s" attributeName="offset" fill="freeze"
                        from="0" to="0.5" keySplines=" 0.0 0.4 0.1 1" keyTimes="0;1" calcMode="spline" />
                </stop>
                <stop offset="0" stop-color="#29ABE2" stop-opacity="0.1">
                    <animate id="gradient-point2" begin="indefinite" dur="1s" attributeName="offset" fill="freeze"
                        from="0" to="0.5" keySplines=" 0.0 0.4 0.1 1" keyTimes="0;1" calcMode="spline" />
                </stop>
            </linearGradient>
        </defs>
        <polygon fill='url(#gradient-fill)'
            points="58.67 0.5 18.67 0.5 6.67 40.5 0.67 60.5 16.67 60.5 4.67 100.5 32.67 60.5 46.67 40.5 30.67 40.5 58.67 0.5"
            style="stroke:none;stroke-miterlimit:10" />
    </svg>


    <svg width="336px" height="195px">
        <defs>
            <linearGradient id="logo-gradient" x1="50%" y1="0%" x2="50%" y2="100%">

                <stop offset="0%" stop-color="#7A5FFF">
                    <animate attributeName="stop-color" values="#7A5FFF; #01FF89; #7A5FFF" dur="4s"
                        repeatCount="indefinite"></animate>
                </stop>

                <stop offset="100%" stop-color="#01FF89">
                    <animate attributeName="stop-color" values="#01FF89; #7A5FFF; #01FF89" dur="4s"
                        repeatCount="indefinite"></animate>
                </stop>

            </linearGradient>

        </defs>
        <g>
            <path fill="url('#logo-gradient')"
                d="M315.69646,6.17948262 C328.855897,-3.88648819 332.169516,-0.795739865 323.113707,13.0582738 L217.327474,174.895153 C208.264469,188.760175 193.218185,188.990964 183.71996,175.409636 L126.769111,93.9767151 L12.5417619,181.728698 C-0.593710633,191.81966 -3.91947426,188.74917 5.1230211,174.855879 L110.403975,13.0975513 C119.44219,-0.789163345 134.468377,-1.03753706 143.966601,12.5437917 L200.917445,93.9767151 L315.69646,6.17948262 Z">
            </path>
        </g>
    </svg>

    <svg style="background-color: black;">
        <rect width="100" height="100" rx="40" ry="40" style="fill:#00a99d;">
            <animate attributeName="cy" attributeType="XML" from="30" to="470" begin="0s" dur="5s" fill="remove"
                repeatCount="indefinite" />
            <animateTransform attributeName="transform" begin="0s" dur="10s" type="rotate" from="0 50 50" to="360 50 50"
                repeatCount="indefinite" />
        </rect>
    </svg>


    <div
        style="width: 100px; height: 100px; border-radius: 50px; border-color: #00a99d; border-style: solid; overflow: hidden; ">
        <div id="flowbox"></div>
    </div>
    <button type="button" onclick="start()">Start</button>
    <button type="button" onclick="stop()">Stop</button>


    <div
        style="width: 100px; height: 100px; position: relative; border-radius: 50px; border-style: solid; border-color: #00a99d; overflow: hidden;">
        <div id="moveBox" style="width: 100%; height: 100%;">
            <div id="rotationBox"
                style="width:200%; height: 200%; border-radius: 45%; background-color: aquamarine; left: -50%">
            </div>
        </div>

    </div>
    <button type="button" onclick="moveStart()">Start</button>
    <button type="button" onclick="moveStop()">Stop</button>
    <button type="button" onclick="rotationStart()">Start</button>
    <button type="button" onclick="rotationStop()">Stop</button>

</body>
<script>
    var currentPower = 0.0;

    function animation() {
        // Power 
        var powerGradientPoint1 = document.getElementById('linear-gradient1');
        var powerGradientPoint2 = document.getElementById('linear-gradient2');
        // var powerValueId = document.getElementById('power-value');

        var powerId = setInterval(function () {
            let powerValue = Math.random().toFixed(1);
            // powerValueId.innerText = powerValue * 5000;

            powerGradientPoint1.setAttribute('from', currentPower);
            powerGradientPoint1.setAttribute('to', powerValue);

            powerGradientPoint2.setAttribute('from', currentPower);
            powerGradientPoint2.setAttribute('to', powerValue);

            powerGradientPoint1.beginElement();
            powerGradientPoint2.beginElement();

            currentPower = powerValue;

        }, 3000);
    }

    animation();


    var subBox = document.getElementsByClassName('subBox');

    var rotationID = [null, null];
    var rotationDegree = [0, 0];

    function rotationStart(num) {
        clearInterval(rotationID[num]);

        rotationID[num] = setInterval(rotation, 10, num);
    }

    function rotationStop(num) {
        clearInterval(rotationID[num]);
    }

    function rotation(num) {
        subBox[num].style.transform = 'rotate(' + rotationDegree[num] + 'deg)';
        rotationDegree[num] += 0.5;
    }

    var fillID = [null, null];
    var topPosition = [100, 100];

    function fillStart(num, setPosition) {
        clearInterval(fillID[num]);

        if (setPosition > topPosition[num]) {
            direction = 1; // empty

        }
        else if (setPosition < topPosition[num]) {
            direction = -1 // fill
        }
        else {
            return;
        }

        fillID[num] = setInterval(fill, 50, num, setPosition, direction); // fill

    }

    function fillStop(num) {
        clearInterval(fillID[num]);
    }

    function fill(num, setPosition, direction) {

        if (topPosition[num] == setPosition) {
            clearInterval(fillID[num]);
        }

        topPosition[num] += direction;
        subBox[num].style.top = topPosition[num] + 'px';

        // console.log(topPosition);
    }

    function start() {

        let id = document.getElementById("flowbox");
        id.style.animationPlayState = "running";
    }

    function stop() {
        let id = document.getElementById("flowbox");
        id.style.animationPlayState = "paused";
    }


    let setPosition = 50;
    let direction = 1;
    let fillPosition = 0;
    let dt = 1;

    fillID = setInterval(fill, 30, setPosition, direction);
    function fill(setPosition, direction) {
        if (fillPosition == setPosition) {
            clearInterval(fillID);
        }

        let id = document.getElementById("flowbox");
        fillPosition += dt * direction;
        id.style.top = fillPosition + 'px';
    }


    setInterval(testmove, 5000);

    function testmove() {
        let moveValue = Math.floor(Math.random() * 100);
        let id = document.getElementById('moveBox');
        let sPos = id.offsetTop + 'px';
        let ePos = moveValue + 'px';

        id.style.setProperty('--startPosition', sPos);
        id.style.setProperty('--endPosition', ePos);

        id.classList.remove('moveAni');
        void id.offsetHeight;
        id.classList.add('moveAni');

        console.log(sPos, ePos);

    }

    function moveStart() {
        let id = document.getElementById('moveBox');
        id.style.animationPlayState = "running";

    }

    function moveStop() {
        let id = document.getElementById('moveBox');
        id.style.animationPlayState = "paused";


    }

    function rotationStart() {
        let id = document.getElementById('rotationBox');
        id.style.animationPlayState = "running";

    }

    function rotationStop() {
        let id = document.getElementById('rotationBox');
        id.style.animationPlayState = "paused";

    }

</script>

</html>